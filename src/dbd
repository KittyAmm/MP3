DROP DATABASE mp3;
CREATE DATABASE mp3;
CREATE SEQUENCE idutilisateur INCREMENT by 1 START WITH 1;
CREATE SEQUENCE idchanson INCREMENT by 1 START WITH 1;
CREATE SEQUENCE idalbum INCREMENT by 1 START WITH 1;
CREATE SEQUENCE idmp3info INCREMENT by 1 START WITH 1;
CREATE SEQUENCE idgenre INCREMENT by 1 START WITH 1;
CREATE SEQUENCE idimage INCREMENT by 1 START WITH 1;

CREATE TABLE menu (
  id    VARCHAR(20),
  nom   VARCHAR(60),
  lien  VARCHAR(100),
  class VARCHAR(50),
  PRIMARY KEY (id)
);

CREATE TABLE utilisateur (
  id            VARCHAR(20),
  nom           VARCHAR(50),
  mdp           VARCHAR(50),
  mail          VARCHAR(50),
  sexe          VARCHAR(50),
  datenaissance VARCHAR(50),
  datedajout    VARCHAR(50),
  PRIMARY KEY (id)
);

CREATE TABLE image (
  id  VARCHAR(20),
  nom VARCHAR(50),
  PRIMARY KEY (id)
);

CREATE TABLE artiste (
  id         VARCHAR(20),
  idimage    VARCHAR(20),
  nom        VARCHAR(50),
  datedajout VARCHAR(50),
  PRIMARY KEY (id),
  FOREIGN KEY (idimage) REFERENCES image (id)
);

CREATE TABLE album (
  id          VARCHAR(20),
  idartiste   VARCHAR(20),
  idimage     VARCHAR(20),
  nom         VARCHAR(20),
  datedajout  VARCHAR(50),
  datepublier VARCHAR(50),
  PRIMARY KEY (id),
  FOREIGN KEY (idimage) REFERENCES image (id),
  FOREIGN KEY (idartiste) REFERENCES artiste (id)

);

CREATE TABLE genre (
  id         VARCHAR(20),
  idimage    VARCHAR(20),
  nom        VARCHAR(50),
  datedajout VARCHAR(50),
  PRIMARY KEY (id),
  FOREIGN KEY (idimage) REFERENCES image (id)
);

CREATE TABLE chanson (
  id          VARCHAR(50),
  idartiste   VARCHAR(50),
  idgenre     VARCHAR(50),
  idalbum     VARCHAR(50),
  titre       VARCHAR(20),
  duree       VARCHAR(20),
  datedajout  VARCHAR(50),
  datepublier VARCHAR(50),
  PRIMARY KEY (id),
  FOREIGN KEY (idartiste) REFERENCES artiste (id),
  FOREIGN KEY (idalbum) REFERENCES artiste (id),
  FOREIGN KEY (idgenre) REFERENCES artiste (id)
);


CREATE TABLE playlist (
  id         VARCHAR(20),
  idson      VARCHAR(20),
  idclient   VARCHAR(50),
  datedajout VARCHAR(50),
  PRIMARY KEY (id),
  FOREIGN KEY (idson) REFERENCES chanson (id),
  FOREIGN KEY (idclient) REFERENCES utilisateur (id)
);
CREATE TABLE mp3Info (
  id          VARCHAR(20),
  path        VARCHAR(100),
  track       VARCHAR(50),
  artiste     VARCHAR(50),
  titre       VARCHAR(50),
  album       VARCHAR(50),
  annee       VARCHAR(50),
  genre       VARCHAR(50),
  comment     VARCHAR(50),
  data        INT,
  publish     VARCHAR(50),
  description VARCHAR(50),
  version     VARCHAR(50),
  taille      INT,
  image       VARCHAR(50)
);
CREATE TABLE upload (
  id   VARCHAR(20),
  path VARCHAR(150)
);
CREATE TABLE telechargement (
);
CREATE TABLE favoris (
);
CREATE TABLE musique (
  id    VARCHAR(20),
  idson VARCHAR(20) REFERENCES chanson (id)
);


